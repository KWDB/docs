---
title: Cluster Configuration
id: cluster-settings-config
---

# Cluster Configuration

After deploying KWDB, you can customize its behavior through two main configuration mechanisms: startup flags and cluster parameters.

| **Parameter Type**       | **Scope**                          | **When Changes Take Effect**                           | **How to Configure**                                          |
| :---------------------- | :----------------------------------------- | :------------------------------------------ | :---------------------------------------------------------------- |
| **Startup flags**  | Individual node | Only at node startup (requires service restart)|• Bare-metal deployment: Edit `/etc/kaiwudb/script/kaiwudb_env`<br>• Container deployment: Edit `/etc/kaiwudb/script/docker-compose.yml`<br>• Command line: Use `kwbase start` with flags |
| **Cluster parameters** | Entire cluster (all nodes)| Immediately (no restart needed)| Execute SQL statements (changes are stored in system tables) |

## Startup Flags

### Startup Flag Overview

Startup flags control how individual KWDB nodes operate. These include settings for general operation, networking, security, logging, and more.

Many flags have useful defaults that can be overridden by specifying the flags explicitly. If you specify flags explicitly, be sure to do so each time the node is restarted, as they will not be remembered. The one exception is the `--join` flag, which is stored in a node's data directory. We still recommend specifying the `--join` flag every time, as this will allow nodes to rejoin the cluster even if their data directory was destroyed.

New flag configurations take effect only after a system restart.

#### General Flags

| Flag           | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--background`      | Run in the background. <br> **Note** <br> The `--background` flag is suitable for short-term and testing scenarios. It is not recommended for long-running services due to limitations in detaching from the current terminal. A service manager or tools like `daemon(8)` are recommended for long-term operation.                                                                                                                                                                                                                                                                                 |
| `--cache`           | Cache size, shared across multiple physical storage devices. The value  can be a percentage (notated as a decimal or with %) or any bytes-based unit, for example: <br>- `--cache=.25` <br>- `--cache=25%` <br>- `--cache=1000000000`: 1,000,000,000 bytes <br>- `--cache=1GB`: 1,000,000,000 bytes <br>- `--cache=1GiB`: 1,073,741,824 bytes <br> **Note** <br> If you use the `%` notation, you might need to escape the `%` sign. Decimal numbers are recommended. <br> Default value: 128 MiB. In production, `25%` or higher is recommended. |
| `--external-io-dir` | Path for external I/O directories when performing backup and recovery using local node directories or NFS drives. If set to `disabled`, NFS is disabled, and data is backed up locally. <br> Default: The `extern` subdirectory of the first `--store` configuration. You can also create symlinks to the desired locations from within the `extern` directory to change the path without restarting nodes.|
| `--max-sql-memory`  | Maximum in-memory storage allowed for SQL query cache, including prepared queries and intermediate data rows during execution. This can be a percentage (notated as a decimal or with `%`) or exact value (in bytes), such as: <br>- `--max-sql-memory=.25` <br>- `--max-sql-memory=25%` <br>- `--max-sql-memory=10000000000`: 10,000,000,000 bytes <br>- `--max-sql-memory=1GB`: 1,000,000,000 bytes <br>- `--max-sql-memory=1GiB`: 1,073,741,824 bytes. <br> The temporary files are stored in the path specified by `--temp-dir`. <br> **Note** <br> If you use the `%` notation, you might need to escape the `%` sign. Decimal numbers are recommended. |
| `--store` <br>`-s`   | Path to storage devices for database data. You can specify both device attributes and space size. For multiple devices, specify the flag separately for each device, for example: `--store=/mnt/ssd01 --store=/mnt/ssd02`. For more information, see [Storage Flags](#storage-flags).    |
| `--ts-store`         | Storage path for time-series data, used to separate time-series data from relational data. If not specified, time-series data and relational data will be stored together in the path specified by `--store`.|

#### Networking Flags

| Flag            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| --------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `--advertise-addr`     | The IP address/hostname and port used by the node for communication with other nodes. Must resolve correctly if using a hostname. For IPv6, use formats like `[::1]` or `[fe80::f6f2:::]`. <br>This flag's effect depends on the combination with the `--listen-addr` flag. If the port differs from `--listen-addr`, port forwarding is required. <br>**Default:** Value of `--listen-addr`, or canonical hostname with port `26257` if `--listen-addr` is not specified.|
| `--listen-addr`        | The IP address/hostname and port for receiving connections from nodes and clients. Supports both IPv4 and IPv6 formats. For IPv6, use formats like `[::1]` or `[fe80::f6f2:::]`. <br> This flag's effect depends on the combination with `--advertise-addr`. <br> **Default**: Listens on all IPs on port `26257`. If `--advertise-addr` is not specified, the canonical hostname is advertised.                                                                                                                                                                                                                                            |
| `--http-addr`          | The IP address/hostname and port for the external Admin interface. For IPv6, use formats like `[::1]:8080` or `[fe80::f6f2:::]:8080`. <br> **Default**: Listen on the address part of `--listen-addr` on port `8080`.                                                                                                                                                                                                                                                                                                                                 |
| `--join` <br>`-j`      | Addresses of the cluster nodes to connect to. On initialization, specify 3-5 node addresses and ports, then run `kwbase init` to start the cluster. If not specified, a single-node cluster is started and `kwbase init` is not needed. To add new nodes to an existing cluster, specify the address and port of 3-5 nodes. |
| `--restful-port`       | RESTful service port. Default: `8080`, range: `[0, 65535]`.                                                                                                                                                                                                                                                                                                                                                                               |

#### Security Flags

| Flag         | Description                                                                                                                                                                                                                                                                                                                                                     |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--certs-dir`     | Path to the directory of security certificates for accessing and validating a secure cluster. <br> Default: `${HOME}/.kaiwudb-certs/`                                                                                                                                                                                                                              |
| `--insecure`      | Start the cluster in insecure mode. If not specified, the cluster starts in secure mode and the `--certs-dir` flag must point to valid certificates. See [Security](./cluster-planning.md#security) for risks of running in insecure mode. <br> Default: `false` |

#### Storage Flags

The `--store` flag supports the following configurations, separated by commas. Avoid using commas in configuration values.

::: warning Note

- Memory storage is not suitable for production environments.
- Without special replication constraints, KWDB rebalances replicas to utilize available storage space. However, in a 3-node cluster, if each node has multiple stores, KWDB cannot rebalance replicas from one store to another on the same node, as this would temporarily result in multiple replicas of the same range on that node. To allow cross-store rebalancing, the cluster must have 4 or more nodes. This allows the cluster to create a copy of the replica on a node that doesn't already have a replica of the range before removing the source replica and then migrating the new replica to the store with more capacity on the original node.

:::

| Configuration | Description |
| ------------- | ----------- |
| `type`        | Set to `mem` for memory storage (leave `path` empty). Otherwise, leave empty. |
| `path`        | Storage device path, for example, `--store=path=/mnt/ssd01,size=20GB`. <br> Default: `kaiwudb-data`. |
| `size`        | Maximum size allocated to the node. When the threshold is reached, KWDB attempts to redistribute data to other nodes with available capacity. If no other nodes have available capacity, the limit will be exceeded and more space will be used. Once new space becomes available, data exceeding the threshold will be moved. This value can be a percentage or a bytes-based unit. For example: <br>- `--store=path=/mnt/ssd01,size=10000000000` ----> 10000000000 bytes<br> - `--store=path=/mnt/ssd01,size=20GB` ----> 20000000000 bytes<br>- `--store=path=/mnt/ssd01,size=20GiB` ----> 21474836480 bytes<br>- `--store=path=/mnt/ssd01,size=0.02TiB` ----> 21474836480 bytes<br>- `--store=path=/mnt/ssd01,size=20%` ----> 20% of available space<br>- `--store=path=/mnt/ssd01,size=0.2` ----> 20% of available space<br>- `--store=path=/mnt/ssd01,size=.2` ----> 20% of available space<br> Default: 100% <br>For an in-memory store, the size field is required and must be set to the precise amount of memory (in bytes) or percentage of available memory, for example:<br>- `--store=type=mem,size=20GB`<br>- `--store=type=mem,size=90%`<br>**Note**: If you use the `%` notation, you might need to escape the `%` sign. Decimal numbers are recommended.|

#### Log Flags

By default, the system writes all logs to log files and does not output them to `stderr`.

| flag                | Description                                                                                                                                                                                                                          |
| ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `--log-dir`               | Enable logging and specify the log directory. Use `--log-dir=` to disable logging.                                                                                                     |
| `--log-dir-max-size`      | When the log directory reaches the specified limit, KWDB deletes the oldest log files. <br> Default: `100MiB`                                                                                                                                          |
| `--log-file-max-size`     |When a log file exceeds the specified size, KWDB creates a new log file and begins writing logs to the new file. <br> Default: `10MiB`                                                                                                                                             |
| `--log-file-verbosity`    | Write only messages at or above the specified severity level to log files. For example, `--log-file-verbosity=WARNING`. <br> Default: `INFO`                                                                                                                                                                                        |
| `--logtostderr`           | Enable logging to `stderr` for messages at or above the specified severity level. For example, `--logtostderr=ERROR`. If the severity level is not specified, logs of all levels are output to `stderr`. <br> Set to `NONE` to disable `stderr` output.                                                                                                         |
| `--sql-audit-dir`         | Directory for SQL audit logs. If not specified, audit logs are stored in the same directory as other KWDB logs. |

### Startup Flag Configuration

The cluster startup flags can be modified using any of the following methods:

- The `kwbase start` command. For more information, see [kwbase start](../tool-command-reference/client-tool/kwbase-sql-reference.md).
- The `kaiwudb_env` file (for bare-metal deployments)
- The `docker-compose.yml` file (for container deployments)

This section explains how to modify the `kaiwudb_env` and `docker-compose.yml` files to change the startup flag configurations. 

::: warning Note
Startup flags are node-level configurations. To modify the configuration for the entire cluster, you need to log into each node in the cluster and make the corresponding changes.
:::

To modify cluster flags, follow these steps:

1. Log into the cluster node and navigate to the KWDB installation directory.
2. Stop the KWDB service.

    ```shell
    systemctl stop kaiwudb
    ```

3. Open the configuration file.

    - For bare-metal deployment: Navigate to the `/etc/kaiwudb/script` directory and open the `kaiwudb_env` file.
    - For container deployment: Navigate to the `/etc/kaiwudb/script` directory and open the `docker-compose.yml` file.

4. Add or modify the startup  flags as needed.

    - For bare-metal deployment: Add or modify the startup flags after the `KAIWUDB_START_ARG` variable.

        Example:

        The following example adds the `--cache` startup flag and sets the value to `25%`.

        ```yaml
        KAIWUDB_START_ARG="--cache=25%"
        ```

    - For container deployment: Add or modify startup flag in the startup command that begins with `/kaiwudb/bin/`.

        ::: warning Note

        Do not remove the default startup command flags, as doing so may prevent the modified cluster from starting.

        :::

        Example:

        The following example adds the `--cache` startup flag and sets the value to `25%`.

        ```yaml
          command: 
            - /bin/bash
            - -c
            - |
              /kaiwudb/bin/kwbase  start-single-node --certs-dir=<certs_dir> --listen-addr=0.0.0.0:26257 --advertise-addr=your-host-ip:port --store=/kaiwudb/deploy/kwdb-container --cache=25%
        ```

5. Save the configuration and restart the KWDB service.

    ```shell
    systemctl restart kaiwudb
    ```

## Cluster Parameters

KWDB supports modifying cluster settings through the `SET CLUSTER SETTING` statement, which takes effect immediately.

::: warning Note

Many cluster settings affect the internal workings of KWDB. It is strongly recommended to understand the intended use before modifying these settings, as changes could introduce risks.

:::

The table below lists all cluster parameters supported by KWDB along with their default values. You can inspect current cluster configurations using the `SHOW CLUSTER SETTINGS` or `SHOW ALL CLUSTER SETTINGS` statements.

| Parameter                          | Description                                                                                                                                                                                                                                                                                                                                                                                                             | Default  | Type     |
| ----------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- | -------- |
| `audit.enabled`                     | Enable or disable auditing. | `FALSE`  | bool     |
| `audit.log.enabled`                 | Enable or disable audit logging. | `TRUE`   | bool     |
| `capacity.stats.period`            | Interval for collecting storage capacity statistics. The default value is 12, meaning storage capacity data is collected every 120 seconds.<br>The supported range is [1, 1000]. Setting a higher value helps reduce system overhead, while a lower value allows for quicker data retrieval. | `12` | int |
| `cloudstorage.gs.default.key`                           |  JSON key to use during Google Cloud Storage operations.                                                                                                                                                                                                                                                                                                                                                             | -         | string   |
| `cloudstorage.http.custom_ca`                           | Custom root Certificate Authority (CA) to be appended to the system's default CAs for certificate verification during HTTPS storage interactions.                                                                                                                                                                                                                                                                                                                                                          | -         | string   |
| `cloudstorage.timeout`                                  | The timeout duration for import and export storage operations.                                                                                                                                                                                                                                                                                                 | `10m0s`     | duration |
| `cluster.organization`                                  | Organization name.                                                                                                                                                                                                                                                                                                                                                          | -         | string   |
| `cluster.preserve_downgrade_option`                     | Disable automatic or manual cluster upgrade from a specified version until reset.                                                                                                                                                                                                                                                                                                                 | -         | string   |
| `default_transaction_read_only.enabled`                 | Configure read-only mode:<br>- `false`: Permit read and write operations, including DDL, DCL, and cluster settings modifications. <br>- `true`: Restrict operations to read-only, blocking write operations, DDL, DCL, and cluster setting changes. | `FALSE`     | bool     |
| `diagnostics.forced_sql_stat_reset.interval`            | Interval after which SQL statement statistics are refreshed even if not collected (should be more than `diagnostics.sql_stat_reset.interval`). The maximum value is 24 hours. | `2h0m0s`    | duration |
| `diagnostics.reporting.enabled`                         | Enable or disable reporting of diagnostic metrics | `TRUE`      | bool     |
| `diagnostics.reporting.interval`                        | Interval for reporting diagnostic data. | `1h0m0s`    | duration |
| `diagnostics.sql_stat_reset.interval`                   | Interval for resetting SQL statement statistics.  The value should be less than `diagnostics.forced_sql_stat_reset.interval`. The maximum value is 24 hours. | `1h0m0s`    | duration |
| `email.metrics.option`                                   | Specify metrics to monitor. KWDB supports monitoring the following metrics:<br>- CPU usage <br>- Memory usage <br>- Storage usage <br>- Connection count <br>- Pre-allocated space usage <br>Default setting monitors all metrics. | - | string |
| `external.graphite.endpoint`                            | When set, push server metrics to the Graphite or Carbon server at the specified host and port. |           | string   |
| `external.graphite.interval`                            | Interval for pushing metrics to Graphite. | `10s`       | duration |
| `immediate_compression.threads`                         | Number of threads used for immediate or on-demand compression. The default is `3`. Recommended to keep at or below 4 to minimize impact on read/write performance. | `3`      | integer  |
| `jobs.scheduler.enabled`                               | Enable or disable the job scheduler. | `true`      | boolean  |
| `jobs.scheduler.max_jobs_per_iteration`                | Maximum number of jobs to execute per iteration. The default is `10`. When set to `0`, no job limit is applied. | `10` | integer |
| `jobs.scheduler.pace`                                   | Frequency at which the system scans the `system.scheduled_jobs` table. The default is `60s` and the minimum value is `60s`. Values below 60s default to 60s. | `60s`       | duration |
| `kv.allocator.load_based_lease_rebalancing.enabled`     | Enable range lease rebalancing based on load and latency. | `TRUE`      | bool     |
| `kv.allocator.load_based_rebalancing`                   | Whether to rebalance based on QPS distribution across stores:<br>- `0`: Disable automatic rebalancing.<br>- `1`: Rebalance leases only.<br>- `2`: Rebalance both leases and replicas. | `2`         | enum     |
| `kv.allocator.qps_rebalance_threshold`                  | The minimum deviation from the mean QPS (queries per second) of a store before it is considered overfull or underfull. | `0.25`      | float    |
| `kv.allocator.range_rebalance_threshold`                | The minimum deviation from the mean range count of a store before it is considered overfull or underfull. | `0.05`      | float    |
| `kv.bulk_io_write.max_rate`                             | Rate limit for bulk I/O write operations to disk. | `1.0 TiB`    | byte size |
| `kv.closed_timestamp.follower_reads_enabled`            | Allow all replicas to serve consistent historical reads using closed timestamp information. | `TRUE`      | bool     |
| `kv.kvserver.ts_split_by_timestamp.enabled`            | Control time-series data range splitting strategy:<br>- `false`: Split based on hash points only.<br>- `true`: Split using both hash points and timestamps when `kv.kvserver.ts_split_interval` is set to `1`. | `FALSE`      | bool     |
| `kv.kvserver.ts_split_interval`                         | Interval for splitting time-series data ranges.  | `10`      | int     |
| `kv.protectedts.reconciliation.interval`                | Frequency for reconciling jobs with protected timestamp records. | `5m0s`      | duration |
| `kv.range_split.by_load_enabled`                        | Enable automatic range splitting based on load distribution. | `TRUE`      | bool     |
| `kv.range_split.load_qps_threshold`                     | The QPS threshold at which a range becomes a candidate for load-based splitting.| `2500`      | int      |
| `kv.rangefeed.enabled`                                  | Enable rangefeed registration. | `TRUE`      | bool     |
| `kv.replication_reports.interval`                       | The frequency at which the replication_constraint_stats, replication_stats_report, and replication_critical_localities reports are generated.| `1m0s`      | duration |
| `kv.snapshot_rebalance.max_rate`                        | Rate limit for snapshot rebalancing and replication (in bytes per second). | `8.0 MiB`    | byte size |
| `kv.snapshot_recovery.max_rate`                         | Rate limit for snapshot recovery (in bytes per second). | `8.0 MiB`    | byte size |
| `kv.transaction.max_intents_bytes`                      | The maximum number of bytes allocated for tracking locks in transactions. | `262144`    | int      |
| `kv.transaction.max_refresh_spans_bytes`                | The maximum number of bytes allocated for tracking refresh spans in serializable transactions. | `256000`    | int      |
| `log.sync.enabled` | Enable or disable log synchronization. During disk-intensive operations, log synchronization may exceed timeout thresholds, potentially causing database shutdown. Disabling it can help prevent crashes due to log sync timeouts. | `true` | bool |
| `server.auth_log.sql_connections.enabled` | If enabled, log SQL client connect and disconnect events. Note: This may impact performance on heavily loaded nodes. | `FALSE` | bool |
| `server.auth_log.sql_sessions.enabled` | If enabled, log SQL session login and disconnection events. Note: This may impact performance on heavily loaded nodes. | `FALSE` | bool |
| `server.clock.forward_jump_check_enabled` | If enabled, clock jumps greater than max_offset/2 will trigger a panic. | `FALSE` | bool |
| `server.clock.persist_upper_bound_interval` | Interval for persisting the upper bound of the wall time. The clock will not generate a wall time greater than the persisted timestamp and will panic if it detects a wall time exceeding this value. Upon startup, KWDB waits for the wall time to catch up to this persisted timestamp, ensuring monotonic wall time across server restarts. Not setting this value or setting it to `0` disables this feature.| `0s` | duration |
| `server.consistency_check.max_rate` | Rate limit for consistency checks (unit: bytes/second). This parameter, in conjunction with `server.consistency_check.interval`, controls the frequency of consistency checks and may impact performance. | `8.0MiB` | byte size |
| `server.eventlog.ttl` | If nonzero, event log entries older than this duration are deleted every 10 minutes. The value should not be set below 24 hours. | `2160h0m0s` | duration |
| `server.host_based_authentication.configuration` | Host-based authentication for database connections. The format follows `host all <user_name> <address> <method>`. <br> `username`: Username. Set to `all` to match all users. <br> `address`: Allow or deny access from specific IP address ranges. Supported formats: <br> - Single hostname <br> - IP address range: Support IP address with CIDR subnet mask (`ip-address/mask-length`) or IP address with actual subnet mask (`ip-address/ip-mask`). <br> Set to `all` to allow or deny all IP addresses. <br> `method`: Authentication rule, customizable to include: <br>- `cert`: Certificate-based authentication (require SSL connection). <br>- `cert-password`: Certificate or password-based authentication (default, require SSL connection). <br>- `password`: Password-based authentication (require SSL connection). <br>- `cert+password`: Certificate and password-based dual-factor authentication (require SSL connection). <br>- `trust`: Allow connections that meet the matching rules unconditionally. <br>- `reject`: Unconditionally reject connections that meet the matching rules. <br> This parameter format is compatible with PostgreSQL's `pg_hba.conf`. For more information, see [PostgreSQL Official Documentation](https://www.postgresql.org/docs/current/auth-pg-hba-conf.html). | - | string |
| `server.rangelog.ttl` | If nonzero, range log entries older than this duration are deleted every 10 minutes. The value should not be set below 24 hours. | `720h0m0s` | duration |
| `server.remote_debugging.mode` | Enable or disable remote debugging. <br>- `local`: Only enable remote debugging locally. <br>- `any`: Allow remote debugging from any location. <br>- `off`: Disable remote debugging. | `local` | string |
| `server.rest.timeout` | Timeout threshold for RESTful API connections. If exceeded, the system disconnects the session. The default is `60` minutes, and the range is `[1, 2^63-1]` minutes. | `60` | int |
| `server.restful_service.default_request_timezone` | Global timezone control for RESTful API requests. The valid range is from -12 to 14. | `8` | int |
| `server.shutdown.drain_wait` | Duration a server waits in an unready state before proceeding with the shutdown process. | `0s` | duration |
| `server.shutdown.lease_transfer_wait` | Duration a server waits for a range lease transfer before proceeding with the shutdown process. | `5s` | duration |
| `server.shutdown.query_wait` | Duration a server waits for active queries to finish before proceeding with the shutdown process. | `10s` | duration |
| `server.time_until_store_dead` | Duration after which a store is considered dead if no new gossiped information is received. | `5m0s` | duration |
| `server.tsinsert_direct.enabled` | Enable short-circuiting for time-series writes to improve write performance. | `true` | bool |
| `server.user_login.timeout` | Timeout after which client authentication fails if a system range is unavailable (`0` = no timeout).| `10s` | duration |
| `server.web_session_timeout` | Duration for which a newly created web session remains valid. | `168h0m0s` | duration |
| `sql.all_push_down.enabled`                                 | Push down all SQL operations to the underlying system.                                                                                                                                                                                                                                                                                                                                             | `TRUE`            | bool        |
| `sql.auto_limit.quantity`                                   | The number of rows returned by SQL queries. Supported values:<br> - `0`: No limit on the number of rows returned.<br> - Any positive integer greater than 0: Limits the number of rows returned by the SQL query to the configured value.                                | `0`               | int         |
| `sql.defaults.default_int_size`                             | The size (in bytes) of the INT data type.                                                                                                                                                                                                                                                                                                                                 | `8`               | int         |
| `sql.defaults.idle_in_session_timeout`                      | Timeout for idle sessions. If set to `0`, the session will never time out.                                                                                                                                                                                                                                                | `0s`              | duration    |
| `sql.defaults.results_buffer.size`                          | Default size of the buffer that accumulates results for a statement or a batch of statements before they are sent to the client. This can be overridden on an individual connection with the 'results_buffer_size' parameter. Note that auto-retries typically occur only when no results have been delivered to the client. Reducing this buffer size can increase the number of retriable errors the client receives, while increasing the buffer size may delay the delivery of the first result row. Updating this setting only affects new connections. Setting it to `0` disables buffering. | `16 KiB`          | byte size   |
| `sql.defaults.multimodel.enabled`                           | When enabled, the system detects multi-model queries and generates the corresponding query plans.                                                                                                                                                                         | `true`            | bool        |
| `sql.defaults.serial_normalization`                         | Default handling of SERIAL in table definitions [rowid = 0, virtual_sequence = 1, sql_sequence = 2].                                                                                                                                                                                                                                                                        | `rowid`           | enum        |
| `sql.distsql.max_running_flows`                             | The maximum number of concurrent flows that can be run on a node.                                                                                                                                                                                                                                                                                                             | `500`             | int         |
| `sql.distsql.temp_storage.joins`                            | When set to `TRUE`, the system will use disk for distributed SQL joins. <br> **Note** <br> Disabling this setting may affect memory usage and performance.                                                                                                                                                                                                                              | `TRUE`            | bool        |
| `sql.distsql.temp_storage.sorts`                            | When set to `TRUE`, the system will use disk for distributed SQL sorts. <br> **Note** <br> Disabling this setting may affect memory usage and performance.                                                                                                                                                                                                                              | `TRUE`            | bool        |
| `sql.log.slow_query.latency_threshold`                      | If set to a nonzero value, SQL statements with service latency exceeding the specified threshold will be logged by the secondary logger on each node.                                                                                                                                                                         | `0s`              | duration    |
| `sql.metrics.statement_details.dump_to_logs`                | Dump collected statement statistics to node logs when they are periodically cleared.                                                                                                                                                                                                                                                                                                                | `FALSE`           | bool        |
| `sql.metrics.statement_details.enabled`                     | Collect per-statement query statistics.                                                                                                                                                                                                                                                                                               | `TRUE`            | bool        |
| `sql.metrics.statement_details.plan_collection.enabled`     | Periodically save the logical plans for each fingerprint.                                                                                                                                                                                                                                                                                                                   | `TRUE`            | bool        |
| `sql.metrics.statement_details.plan_collection.period`      | Time interval until a new logical plan is collected.                                                                                                                                                                                                                 | `5m0s`            | duration    |
| `sql.metrics.statement_details.threshold`                   | The minimum execution time required to trigger statistics collection.                                                                                                                                                                                                                                                                                                         | `0s`              | duration    |
| `sql.metrics.transaction_details.enabled`                   | Collect transaction statistics for each application.                                                                                                                                                                                                                                                                                                                           | `TRUE`            | bool        |
| `sql.notices.enabled`                                       | Enable notices in the server/client protocol being sent.                                                                                                                                                                                                                                                                                                                 | `TRUE`            | bool        |
| `sql.stats.automatic_collection.enabled`                    | Automatic statistics collection mode.                                                                                                                                                                                                                                                                                                                                     | `FALSE`           | bool        |
| `sql.stats.automatic_collection.fraction_stale_rows`        | Percentage of stale rows per table that triggers statistics refresh.                                                                                                                                                                                                                                                                                                          | `0.2`             | float       |
| `sql.stats.automatic_collection.min_stale_rows`             | Minimum number of stale rows per table that triggers statistics refresh.                                                                                                                                                                                                                                                                                                      | `500`             | int         |
| `sql.stats.automatic_ts_collection.fraction_stale_rows`     | Percentage of stale rows per time-series table that triggers statistics refresh.                                                                                                                                                                                                                                                                                             | `0.1`             | float       |
| `sql.stats.automatic_ts_collection.min_stale_rows`          | Minimum number of stale rows per time-series table that triggers statistics refresh.                                                                                                                                                                                                                                                                                           | `100`             | int         |
| `sql.stats.histogram_collection.enabled`                    | Enable histogram collection mode.                                                                                                                                                                                                                                                                                                                                        | `TRUE`            | bool        |
| `sql.stats.post_events.enabled`                             | When enabled, an event is logged for every CREATE STATISTICS job.                                                                                                                                                                                                                             | `FALSE`           | bool        |
| `sql.stats.ts_automatic_collection.enabled`                 | Automatic statistics collection mode for time-series data.                                                                                                                                                                                                                                                                                                                  | `30m0s`           | duration    |
| `sql.temp_object_cleaner.cleanup_interval`                  | Frequency for cleaning up orphaned temporary objects.                                                                                                                                                                                                                                                                                                                        | `false`           | bool        |
| `sql.trace.log_statement_execute`                           | When set to `TRUE`, enable logging for executed statements.                                                                                                                                                                                                                                                                                                                   | `FALSE`           | bool        |
| `sql.trace.session_eventlog.enabled`                        | When set to `TRUE`, enable session tracing. This may significantly impact performance.                                                                                                                                                                                                                                                                                      | `FALSE`           | bool        |
| `sql.trace.txn.enable_threshold`                            | Duration after which all transactions are traced (set to `0` to disable).                                                                                                                                                                                                                     | `0s`              | duration    |
| `sql.ts_insert_select.block_memory`                         | Memory limit per write operation for a data block in a time-series INSERT INTO SELECT statement.                                                                                                                                                                                                                                                                                | `200`             | int         |
| `sql.ts_insert_select_limit.enabled`                        | Allow time-series data to be written into relational tables.                                                                                                                                                                                                                                                                                                                | `FALSE`           | bool        |
| `sql.ts_stats.enabled`                                      | Enable time-series data statistics collection.                                                                                                                                                                                                                                                                                                                               | `TRUE`            | bool        |
| `sql.txn.cluster_transaction_isolation`                     | Configure transaction isolation level with these options: <br> - `serializable`: The highest isolation level, ensuring that concurrent transactions produce the same results as if they were executed sequentially, eliminating concurrency effects. <br> - `read committed`: Transactions can read data committed by other transactions, but it doesn't guarantee full serializability. <br> - `repeatable read`: Ensure that multiple reads of the same data within a transaction return the same result.                                                                                                                                     | `serializable`    | enum        |
| `timeseries.storage.enabled`                                | Enable periodic time-series data storage within the cluster. Disabling it is not recommended unless the data is stored externally.                                                                                                                                                                                                          | `TRUE`            | bool        |
| `timeseries.storage.resolution_10s.ttl`                     | The maximum retention period for time-series data stored at a 10-second resolution. Data older than this is subject to roll-up and deletion.                                                                                                                                                                                                                      | `240h0m0s`        | duration    |
| `timeseries.storage.resolution_30m.ttl`                     | The maximum retention time for time-series data stored at a 30-minute resolution. Data older than this is subject to deletion.                                                                                                                                                                                                                                           | `2160h0m0s`       | duration    |
| `trace.debug.enable`                                        | Display recent request traces on the `/debug` page.                                                                                                                                                                                                                                                                     | `FALSE`           | bool        |
| `trace.lightstep.token`                                     | Send trace data to Lightstep using the specified authentication token.                                                                                                                                                                                                                                                                 | -                 | string      |
| `trace.zipkin.collector`                                    | Send trace data to the specified Zipkin instance (e.g., `127.0.0.1:9411`). Ignored if Lightstep token is set.                                                                                                                                                                          | -                 | string      |
| `ts.auto_vacuum.enabled`                                  | Enable automatic time-series data reorganization.                                                                                                                                                                                                                           | `TRUE`           | bool     |
| `ts.blocks_per_segment.max_limit`                         | Maximum number of data blocks per time-series data segment. Optimizes storage and query performance. Range: `[1, 1000000]`.                                                                                                                             | `500`            | int      |
| `ts.cached_partitions_per_subgroup.max_limit`            | Limit the size of the LRU (Least Recently Used) cache for partitions within subgroups. When the cache reaches the specified threshold, data will be evicted based on the least recently used. The default value is 10, and the valid range is [0, 2147483647]. Setting it to 0 means there is no cache size limit.                     | `10`             | int      |
| `ts.compression.level`                                    | Time-series data compression level. Options include:<br> - low: faster compression with lower compression ratio. <br> - middle: Balanced compression speed and ratio. <br> - high: slower speed with higher compression ratio. For more information, see [Data Compression Levels](./storage-mgmt.md#compression-levels).  | `middle`         | string   |
| `ts.compression.type`                                    | Time-series data compression algorithm. Supported algorithms include gzip, lz4, lzma, lzo, xz, and zstd. New algorithm applies on next compression cycle. For more information, see [Data Compression Algorithms](./storage-mgmt.md#compression-algorithms).                                                     | `gzip`           | string   |
| `ts.count.use_statistics.enabled`                         | Use the count of rows already written for `count(*)` queries on time-series data to optimize query performance. The default setting is enabled. If disabled, it may impact the performance of `count(*)` queries.                                                                                                                                         | `true`           | bool     |
| `ts.dedup.rule`                                          | Data deduplication strategy: <br> - `override`: Full row replacement, where newer data overwrites existing data with the same timestamp. <br> - `merge`: Merge column data with the same timestamp into one row, with newer data overwriting earlier data. <br> - `discard`: Ignore new duplicate data, keeping the existing data.  | `override`       | string   |
| `ts.disk_free_space.alert_threshold`                      | Disk space alert threshold for time-series data storage. When creating a new data segment, the system checks the remaining storage space and decides whether to perform pre-allocation based on the threshold. The threshold should be set as a positive integer with units like B, MiB, or GiB. The default is `0 B`, meaning the feature is disabled. It is recommended to set an appropriate threshold based on the time-series table structure.  For more information, see [Pre-allocated Space Management](./storage-mgmt.md#pre-allocated-space-management).           | `0 B`            | byte size|
| `ts.entities_per_subgroup.max_limit`                      | The maximum number of entities (devices) in each subgroup of a time-series table. When the limit is reached, the system creates a new subgroup. Default is `500`, with a range of `[1, 2147483647]`.                                                                                                                                         | `500`            | int      |
| `ts.mount.max_limit`                                      | The maximum number of compressed files that can be mounted. The range is `[0, 2147483647]`. Setting it to `0` means no file mount limit. In scenarios like full-table queries, the number of mounted files might exceed the set value, but the system will limit the mounted files once the query ends.                                   | `1000`           | int      |
| `ts.ordered_table.enabled`                                | Control whether query results are returned in reverse order of data insertion time when no `ORDER BY` clause is used. If set to `true`, results for single-device queries are returned in reverse order of the timestamp. For multi-device queries, the data is first converted into single-device queries and then merged. | `false`          | bool     |
| `ts.parallel_degree`                                      | The number of concurrent time-series data query tasks per node. The range is `[0, cpu_core*2+2]`, where `cpu_core` refers to the actual number of logical processors in use. A value of `0` or `1` means serial execution.                  | `0`              | int      |
| `ts.partition.interval`                                   | Time interval between time-series data partitions. The value must be greater than `0`.                                                                                                                                                                                                                                                                                                       | `864000`         | int      |
| `ts.rows_per_block.max_limit`                             | Maximum rows per data block in each column file of a time partition. This setting helps balance storage density and query performance. The default is `1000`, with a range of `[10, 1000]`.                                                                                                            | `1000`           | int      |
| `ts.sql.query_opt_mode`                                   | Configure cross-model query optimizations. The value is a four-digit integer, where each digit represents the switch for a corresponding optimization feature: `1` for enabled, `0` for disabled. The four optimizations are: multi-predicate order optimization, scalar subquery optimization, inside-out aggregation pushdown, and inside-out `time_bucket` pushdown. The default is `1110`, enabling the first three. <br>Note: When the optimization features are turned on, the database system will automatically determine if the input query can be optimized. Only queries that meet specific conditions will be optimized.| `1110`           | int      |
| `ts.table_cache.capacity`                                 | The number of time-series tables that can be cached. Time-series tables in the cache do not need to be re-initialized. The range is `[1, 2147483647]`. The default value is `1000`, meaning up to 1000 time-series tables can be cached. Increasing this value can improve read/write performance, but may consume more memory.                                                                                         | `1000`           | int      |
| `version`                                                | The active cluster version, in `<major_version>.<minor_version>` format.                                                                                                                                                                                                                                                                                                         | `20.1`           | m        |
