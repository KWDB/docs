---
title: 2.0.4 发版说明
id: 2.0.4-release-notes
---

# KWDB 2.0.4 发版说明

KWDB 是一款面向 AIoT 场景的分布式多模数据库产品，支持在同一实例同时建立时序库和关系库并融合处理多模数据，具备千万级设备接入、百万级数据秒级写入、亿级数据秒级读取等时序数据高效处理能力，具有稳定安全、高可用、易运维等特点，一站式满足 AIoT 等场景下数据管理需求及关键行业核心系统的自主可控需求。

KWDB 2.0.4 版本在保持原有特性的基础上，在分布式架构、DDL 操作、数据查询、数据存储、数据库运维等方面都进行了一定的改进和增强。

## 版本信息

| 版本号   | 日期   |
| :------- | :--------- |
| 2.0.4    | 2024.09.30 |

## 新增特性

### 分布式架构

- 优化数据库高可用能力，分布式集群支持多个节点非同时宕机。

### DDL 操作

- 在线增删改字段：支持在线增加、删除字段，支持在线转换数据类型。
- comment 支持：支持为时序引擎下的库、表、列添加、删除注释（comment），并支持查看、导入、导出相关注释。

### 数据查询

- 定时连续查询：
  - 支持创建定时连续查询任务，按计划定时计算数据并将计算结果存储到指定的位置；
  - 支持查看、暂停、恢复、删除定时连续查询任务。
- INSERT INTO SELECT 语句：支持通过 `INSERT INTO SELECT` 语句将时序数据计算结果存入关系表。
- 时间日期函数：`time_bucket` 和 `time_bucket_gapfill` 函数支持秒、分、小时、日、周、月、年为时间单位。

### 数据存储

- 数据压缩：
  - 支持通过参数配置选择数据库系统使用的压缩算法，包括：gzip、lz4、lzma、lzo、Xz、zstd；
  - 支持通过 `df` 语句查看总存储空间大小及 squashfs 文件挂载个数。
- 数据重组：支持通过定期数据重组，真正删除数据、增删改字段及乱序数据排序。


### 数据库运维

完善数据库内帮助信息，通过 `help` 命令查看语法时，提供更为详细的信息。

## 重要变更

### 操作系统和环境

新增对鲲鹏、龙蜥环境的支持，更多信息见[裸机部署准备](../deployment/prepare/before-deploy-bare-metal.md#操作系统)和[容器部署准备](../deployment/prepare/before-deploy-docker.md#操作系统)。

### 使用语言及数据库连接方式

- 支持通过 ODBC 及 Hibernate 框架协议连接数据库，更多信息见 [PostgreSQL ODBC 连接 KWDB 数据库](../development/connect-kaiwudb/c-plus-plus/connect-odbc.md)和 [Hibernate 连接 KWDB 数据库](../development//connect-kaiwudb/java/connect-hibernate.md)。
- 允许普通用户删除用户自身的 Restful API 连接，更多信息见 [RESTful API 连接 KWDB 数据库](../development/connect-kaiwudb/restful-api/connect-restful-api.md)。
- 优化 Kafka 连接数据库的写入性能，单节点 10 万条数据的插入耗时不超过 1 秒。

## 升级说明

优化升级规则，新增跳过版本检查强制升级能力。支持 KWDB 2.0.3.2 单机版本离线升级到 KWDB 2.0.4 单机版本。支持 KWDB 2.0.3.2 集群版本通过导入导出方式升级到 KWDB 2.0.4 集群版本，相关信息见[数据库升级](../db-operation/db-upgrade.md)、[数据导出](../db-administration/import-export-data/export-data.md)和[数据导入](../db-administration/import-export-data/import-data.md)。
